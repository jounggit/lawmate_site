# LawMate 프론트엔드-백엔드 연동 가이드

이 문서는 LawMate 프로젝트의 React 프론트엔드와 FastAPI 백엔드 간의 연동 방법을 설명합니다.

## 1. API 서비스 설정

`src/services/api.js` 파일에서는 백엔드 API와의 통신을 담당하는 서비스를 구현했습니다. 주요 내용은 다음과 같습니다:

- API 기본 URL은 `http://localhost:8000`으로 설정되어 있습니다.
- 인증이 필요한 요청에는 자동으로 토큰이 헤더에 추가됩니다.
- 각 엔드포인트별로 메소드가 제공됩니다 (인증, 사용자, 법률 사례, 변호사, 문서, 법령, 판례).

## 2. 인증 컨텍스트

`src/contexts/AuthContext.js` 파일에서는 사용자 인증 상태를 관리하는 React 컨텍스트를 구현했습니다:

- 사용자 로그인/로그아웃 상태 관리
- 토큰 기반 인증 처리
- 사용자 정보 로드 및 업데이트

애플리케이션의 모든 컴포넌트에서 `useAuth` 훅을 통해 인증 상태에 접근할 수 있습니다.

## 3. 법률 상담 컴포넌트

`src/components/LegalConsultation.js` 파일에서는 AI 법률 상담 기능을 구현했습니다:

- 사용자 사건 설명 입력
- API를 통한 법률 분석 요청
- 분석 결과 표시 (관련 법령, 판례, 법률 의견, 추천 문서)

## 4. 연동 완료된 페이지

- `Main.js`: 메인 페이지, 인증 컨텍스트 적용 및 법률 상담 버튼 추가
- `Login.js`: 로그인 페이지, 인증 컨텍스트 적용
- `App.js`: 라우터 설정 및 인증 컨텍스트 제공자 추가
- `ConsultationPage.js`: 법률 상담 페이지 추가

## 5. 추가 구현 사항

향후 구현이 필요한 기능:

1. **실제 API 연동 테스트**: 현재는 서비스 구조만 구현되어 있으므로, 실제 백엔드 서버와의 통신 테스트가 필요합니다.

2. **사용자 등록 페이지 업데이트**: `UserRegister.js`와 `LawyerRegister.js` 페이지를 API 서비스와 인증 컨텍스트를 사용하도록 업데이트해야 합니다.

3. **토큰 갱신 기능**: 액세스 토큰이 만료되었을 때 자동으로 갱신하는 기능이 필요합니다.

4. **에러 처리 개선**: API 요청 실패 시 더 자세한 에러 메시지와 사용자 친화적인 UI를 제공해야 합니다.

5. **로딩 상태 표시**: API 요청 중일 때 로딩 인디케이터를 표시하는 기능이 필요합니다.

6. **법령 및 판례 검색 페이지**: 법령과 판례를 검색하고 볼 수 있는 페이지를 구현해야 합니다.

7. **변호사 목록 및 상세 페이지**: 변호사 정보를 조회하고 상세 정보를 볼 수 있는 페이지가 필요합니다.

8. **문서 관리 기능**: 법률 문서를 생성, 조회, 수정, 삭제할 수 있는 기능이 필요합니다.

## 6. 백엔드 서버 실행

백엔드 서버를 실행하려면:

```bash
cd C:\DEV\lawmate
# 가상 환경 활성화 (선택 사항)
.\venv\Scripts\activate
# 서버 실행
uvicorn app.main:app --reload --port 8000
```

## 7. 프론트엔드 서버 실행

프론트엔드 서버를 실행하려면:

```bash
cd C:\DEV\lawmate_site
npm start
```

브라우저에서 `http://localhost:3000`으로 접속하여 애플리케이션을 확인할 수 있습니다.

## 참고 사항

- 개발 환경에서는 CORS 설정이 필요할 수 있으며, 백엔드의 `config.py`에서 설정할 수 있습니다.
- 프로덕션 환경에서는 API URL 및 보안 설정을 변경해야 합니다.
- 실제 사용자 데이터와 토큰은 안전하게 관리해야 합니다.